function loadingElement(){var e=document.createElement("div");e.setAttribute("class","loading-wrapper");var t=document.createElement("div");return t.setAttribute("class","loading"),e.appendChild(t),e}function Loading(e){var t=$("body");e&&(t.hasClass("blur")||t.addClass("blur"),t.hasClass("overflow-hidden")||t.addClass("overflow-hidden"),$(".loading-wrapper").is(":visible")||t.append(loadingElement())),e||(t.hasClass("blur")&&t.removeClass("blur"),t.hasClass("overflow-hidden")&&t.removeClass("overflow-hidden"),$(".loading-wrapper").is(":visible")&&$(".loading-wrapper").remove())}function onSubmitForm(e){$.ajax({type:"GET",url:API_URL+"/api/v1/captcha",data:{userToken:e},success:function(e){e&&(arrayFiles instanceof Array&&arrayFiles.length?postFormData(formsData.content):modalShow(formsData.content,confirm))}})}function onSubmitPartnerInfo(e){$.ajax({type:"GET",url:API_URL+"/api/v1/captcha",data:{userToken:e},success:function(e){e&&postPartnerInfo(formsData.content)}})}function onSubmitSendPresentation(e){$.ajax({type:"GET",url:API_URL+"/api/v1/captcha",data:{userToken:e},success:function(e){e&&postPresentation(formsData.content)}})}function onSubmitSubscribeNews(e){$.ajax({type:"GET",url:API_URL+"/api/v1/captcha",data:{userToken:e},success:function(e){e&&postSubscribeNews(formsData.content)}})}function postPartnerInfo(e){$.ajax({type:"POST",url:API_URL+"api/v1/partnerinfo",data:e,success:function(){rmModal.show({type:"attention",title:"Отправлено",content:'<span class="rm-red-text">Информация успешно отправлена</span>',closeBtn:"Ок"}),$(".partner-info")[0].reset(),grecaptcha.reset(partnerInfoCaptcha)}})}function postPresentation(e){$.ajax({type:"POST",url:API_URL+"api/v1/sendpresentation",data:e,success:function(){rmModal.show({type:"attention",title:"Отправлено",content:'<span class="rm-red-text">Презентация успешно отправленна по указанному адресу</span>',closeBtn:"Ок"}),$(".send-presentation")[0].reset(),grecaptcha.reset(sendPresentationCaptcha)}})}function postSubscribeNews(e){$.ajax({type:"GET",url:API_URL+"api/v1/newsletter/activate?email="+e.email,success:function(e){e?(rmModal.show({type:"attention",title:"Подписка",content:'<span class="rm-red-text">Подписка на новости прошла успешно</span>',closeBtn:"Ок"}),$(".subscribe-news")[0].reset()):rmModal.show({type:"attention",title:"Внимание",content:'<span class="rm-red-text">Для данного E-mail адреса уже оформлена подписка на новости.</span>',closeBtn:"Ок"}),grecaptcha.reset(subscribeNewsCaptcha)}})}function postFormData(e){$.ajax({type:"POST",url:API_URL+"api/v1/questionnaire",data:e,success:function(e){arrayFiles instanceof Array&&arrayFiles.length?postFiles(e):(modalShow(),postDataToMail(e)),$(".form")[0].reset(),$(":input").removeClass("input-fill"),grecaptcha.reset(formCaptcha)}})}function postFiles(e){Loading(!0);var t=new FormData;arrayFiles.forEach(function(n){t.set("file",n),$.ajax({type:"POST",url:API_URL+"api/v1/attachment/anyone?contextId="+e+"&type=QuestionnaireAttach",data:t,processData:!1,contentType:!1,success:function(){Loading(!1),setTimeout(function(){modalShow(),resetFiles()},1e3),postDataToMail(e)}})})}function postDataToMail(e){$.ajax({type:"GET",url:API_URL+"api/v1/questionnaire/mail?questId="+e})}function modalShow(e,t){t?rmModal.show({type:"confirm",title:"Внимание",content:"modal-confirm.html",closeBtn:"Вернуться и прикрепить файлы",confirmBtn:"Отправить без вложений",handleConfirm:function(){postFormData(e)}}):rmModal.show({type:"attention",title:"Внимание",content:'<span class="rm-red-text">Визитная карточка компании успешно отправлена на предварительную регистрацию</span>',closeBtn:"Ок"})}function resetFiles(){arrayFiles=[],$(".select-files-value").hide(),$(".select-files-load").show(),$(".form__files").removeClass("form__files--drop"),$("#ul").children().remove(),$(".files-img--drop").hide(),$(".files-img").show()}function Modal(){function e(){t.mainBlock.hasClass("rm-modal-hide")||t.mainBlock.addClass("rm-modal-hide"),t.confirmButton&&t.confirmButton.hide(),$("body").hasClass("overflow-hidden")&&$("body").removeClass("overflow-hidden"),$(".wrapper").hasClass("blur")&&$(".wrapper").removeClass("blur")}this.mainBlock=$(".rm-modal"),this.contentBlock=$(".rm-modal-content__body"),this.controls=$(".rm-modal-controls"),this.closeButton=$(".rm-modal-controls__close"),this.confirmButton=$(".rm-modal-controls__confirm");const t=this;this.show=function(t){this.mainBlock.hasClass("rm-modal-hide")&&this.mainBlock.removeClass("rm-modal-hide"),this.mainBlock.hasClass("rm-modal-confirm")&&"confirm"!==t.type&&this.mainBlock.removeClass("rm-modal-confirm"),$("body").hasClass("overflow-hidden")||$("body").addClass("overflow-hidden"),$(".wrapper").hasClass("blur")||$(".wrapper").addClass("blur"),$(".rm-modal-content__header-title").html(t.title),this.closeButton.html(t.closeBtn),"attention"===t.type&&this.contentBlock.html(t.content),"confirm"===t.type&&(this.mainBlock.addClass("rm-modal-confirm"),this.contentBlock.load(t.content),this.confirmButton.show(),this.confirmButton.html(t.confirmBtn),this.confirmButton.off().one("click",function(){t.handleConfirm(),e()})),this.closeButton.off().one("click",function(){e()})},$(document).mouseup(function(t){var n=$(".rm-modal-content");!n.is(t.target)&&0===n.has(t.target).length&&n.is(":visible")&&e()})}function setCookie(e,t,n){n=n||{};var i=n.expires;if("number"==typeof i&&i){var r=new Date;r.setTime(r.getTime()+1e3*i),i=n.expires=r}i&&i.toUTCString&&(n.expires=i.toUTCString()),t=encodeURIComponent(t);var o=e+"="+t;for(var a in n){o+="; "+a;var s=n[a];!0!==s&&(o+="="+s)}document.cookie=o}function getCookie(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}var arrayFiles=[];$(document).ready(function(e){function t(e){n(this.files)}function n(e){function t(){$(".select-files-value").hide(),$(".select-files-load").show(),$(".form__files").removeClass("form__files--drop"),$(".files-img--drop").hide(),$(".files-img").show()}var n=e.length,i=!1,r=!1;if(0!==n){for(var o=0;o<n;o++)if(e[o].size>4194304){i=!0;break}for(var o=0;o<n;o++){var s=e[o].name.split("."),l=s[s.length-1].toLowerCase();if("pdf"!=l&&"doc"!=l&&"docx"!=l&&"xls"!=l&&"xlsx"!=l&&"jpg"!=l&&"jpeg"!=l&&"png"!=l){r=!0;break}}if(i)return rmModal.show({type:"attention",title:"Внимание",content:'<span class="rm-red-text">Превышен допустимый размер файла (4мБ)</span>',closeBtn:"Ок"}),void(arrayFiles.length||t());if(r)return rmModal.show({type:"attention",title:"Внимание",content:'<span class="rm-red-text">Неверный формат файла</span>',closeBtn:"Ок"}),void(arrayFiles.length||t());for(var o=0;o<n;o++)e[o].id=u(),arrayFiles.push(e[o]),$("#ul").append('<li index="'+e[o].id+'">'+e[o].name+'<div class="delete-files"></div></li>');$(".select-files-load").hide(),$(".select-files-value").show(),$(".form__files").addClass("form__files--drop"),$(".files-count").text("Файлов загружено: "+arrayFiles.length),$(".select-files-check").text("Файлы загружены"),$("#btn").val(""),$(".delete-files").click(a)}}function i(e){e.stopPropagation(),e.preventDefault(),n(e.originalEvent.dataTransfer.files)}function r(e){e.stopPropagation(),e.preventDefault()}function o(){arrayFiles.length||(l++,$(".form__files").addClass("form__files--drop"),$(".files-img").hide(),$(".files-img--drop").show())}function a(){var e,t=$(this).parent().attr("index");e=arrayFiles.filter(function(e){return e.id!=t}),arrayFiles=e,$(this).parent().remove(),$(".files-count").text("Файлов загружено: "+arrayFiles.length),0===arrayFiles.length&&resetFiles()}function s(e){e.stopPropagation(),e.preventDefault(),arrayFiles.length||0===--l&&($(".form__files").removeClass("form__files--drop"),$(".files-img--drop").hide(),$(".files-img").show())}var l=0;$("#btn").change(t),$(".select-files").on("dragenter",o).on("dragover",r).on("dragleave",s).on("drop",i);var c=function(){var e=0;return function(){return e++}},u=c()});const API_URL="https://api.redarm.red/redarm/";var regions=[],rmModal=new Modal;$(document).ready(function(e){function t(){for(var e=0;e<regions.length;e++)$(".regions-list").append("<li>"+regions[e]+"</li>");var t=$(".legal-address-option").children("ul").children("li"),n=$(".actual-address-option").children("ul").children("li");t.click(i),n.click(i)}function n(){for(var e=39,t=$(":input"),n=0;n<=e;n++)""!==t[n].value&&$(t[n]).addClass("input-fill")}function i(e){var t=this.innerHTML;$(this).parent().parent().parent().children("input").addClass("input-fill").val(t)}function r(e){e.target.value?$(this).addClass("input-fill"):$(this).removeClass("input-fill")}function o(e){if(e.which<48||e.which>57)return!1}function a(e){$(this).prop("checked")?$(".btn-submit-"+this.id).removeClass("btn--blocked"):$(".btn-submit-"+this.id).addClass("btn--blocked")}function s(e){$(this).prop("checked")?$(".btn-submit-"+this.id).removeClass("btn--blocked-white"):$(".btn-submit-"+this.id).addClass("btn--blocked-white")}var l=$("#form"),c=$(".legal-form-option").children("ul").children("li");$.ajax({type:"GET",url:API_URL+"api/v1/regions/3",success:function(e){regions=e.map(function(e){return e.title}),t()}}),l&&l.length&&n(),$(".legal-form").click(function(e){$(".legal-region-input, .legal-region-input").removeClass("input-fill-select"),$(".legal-address-arrow, .actual-address-arrow").hide(),$(".legal-address-option, .actual-address-option").hide(),$(".legal-form-input").toggleClass("input-fill-select"),$(".legal-form-arrow").toggle(),$(".legal-form-option").toggle()}),$(".legal-region").click(function(e){$(".legal-form-input, .actual-region-input").removeClass("input-fill-select"),$(".legal-form-arrow, .actual-address-arrow").hide(),$(".legal-form-option, .actual-address-option").hide(),$(".legal-region-input").toggleClass("input-fill-select"),$(".legal-address-arrow").toggle(),$(".legal-address-option").toggle()}),$(".actual-region").click(function(e){$(".legal-form-input, .legal-region-input").removeClass("input-fill-select"),$(".legal-form-arrow, .legal-address-arrow").hide(),$(".legal-form-option, .legal-address-option").hide(),$(".actual-region-input").toggleClass("input-fill-select"),$(".actual-address-arrow").toggle(),$(".actual-address-option").toggle()}),c.click(i),$(":input").change(r),$(".form__kpp").on("keypress",o),$(".form__index").on("keypress",o),$(".form__city-code").on("keypress",o),$(".form__city-tel").on("keypress",o),$("#agreement").change(a),$("#send-info").change(a),$("#send-partner").change(a),$("#subscribe").change(s),$(":input[type=email]").on("keyup change",function(){$(this).val($(this).val().toLowerCase())})});var formCaptcha,partnerInfoCaptcha,subscribeNewsCaptcha,sendPresentationCaptcha,onloadReCaptchaInvisible=function(){$(".form").is(":visible")&&(formCaptcha=grecaptcha.render("gRecaptcha_form",{sitekey:"6LcD1GkUAAAAABmo-PTRsPvQ9CnssWCVoe5WkCQq",callback:"onSubmitForm",size:"invisible"})),$(".partner-info").is(":visible")&&(partnerInfoCaptcha=grecaptcha.render("idPartnerInfo",{sitekey:"6LcD1GkUAAAAABmo-PTRsPvQ9CnssWCVoe5WkCQq",callback:"onSubmitPartnerInfo",size:"invisible"})),$(".send-presentation").is(":visible")&&(sendPresentationCaptcha=grecaptcha.render("idSendPresentation",{sitekey:"6LcD1GkUAAAAABmo-PTRsPvQ9CnssWCVoe5WkCQq",callback:"onSubmitSendPresentation",size:"invisible"})),$(".subscribe-news").is(":visible")&&(subscribeNewsCaptcha=grecaptcha.render("idSubscribeNews",{sitekey:"6LcD1GkUAAAAABmo-PTRsPvQ9CnssWCVoe5WkCQq",callback:"onSubmitSubscribeNews",size:"invisible"}))},requiredField="Обязательное поле",correctEmail="Некорректный E-mail",correctTel="Некорректный номер",form=$(".form"),partnerInfo=$(".partner-info"),sendPresentation=$(".send-presentation"),subscribeNews=$(".subscribe-news"),formsData={content:null};$.validator.methods.phone=function(e,t){return this.optional(t)||/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,17}$/.test(e)},$.validator.methods.email=function(e,t){return this.optional(t)||/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(e)},form.validate({rules:{cityCompanyMobile:{phone:!0},emailCompany:{email:!0},phoneCompanyMobile:{phone:!0},commDirEmail:{email:!0},marketingDirEmail:{email:!0},purchaseDirEmail:{email:!0},salesDirEmail:{email:!0},authorFullName:{required:!0},authorPhone:{required:!0,phone:!0},authorEmail:{required:!0,email:!0}},messages:{inn:{minlength:"введите не менее 10-ти символов"},cityCode:{minlength:"неверный код"},cityCompanyMobile:{phone:correctTel},phoneCompanyMobile:{phone:correctTel},emailCompany:{email:correctEmail},commDirEmail:{email:correctEmail},marketingDirEmail:{email:correctEmail},purchaseDirEmail:{email:correctEmail},salesDirEmail:{email:correctEmail},authorFullName:{required:requiredField},authorPhone:{required:requiredField,phone:correctTel},authorEmail:{required:requiredField,email:correctEmail},salesDirEmail:{email:correctEmail}},submitHandler:function(e,t){$(t.currentTarget).serializeObject("form")}}),partnerInfo.validate({rules:{authorPhone:{phone:!0},authorEmail:{email:!0},partnerPhone:{phone:!0},partnerEmail:{email:!0}},messages:{authorPhone:{phone:""},authorEmail:{email:""},partnerPhone:{phone:""},partnerEmail:{email:""}},invalidHandler:function(e,t){rmModal.show({type:"attention",title:"Внимание",content:'<span class="rm-red-text">Указаны неверные контактные данные</span>',closeBtn:"Ок"})},submitHandler:function(e,t){$(t.currentTarget).serializeObject("partnerInfo")}}),sendPresentation.validate({rules:{partnerEmail:{email:!0}},messages:{partnerEmail:{email:""}},invalidHandler:function(e,t){rmModal.show({type:"attention",title:"Внимание",content:'<span class="rm-red-text">Вы ввели неверный email</span>',closeBtn:"Ок"})},submitHandler:function(e,t){$(t.currentTarget).serializeObject("sendPresentation")}}),subscribeNews.validate({rules:{email:{email:!0}},messages:{email:{email:""}},invalidHandler:function(e,t){rmModal.show({type:"attention",title:"Внимание",content:'<span class="rm-red-text">Вы ввели неверный email</span>',closeBtn:"Ок"})},submitHandler:function(e,t){$(t.currentTarget).serializeObject("subscribeNews")}}),$.fn.serializeObject=function(e){var t={};switch(this.serializeArray().forEach(function(e,n){""!==e.value&&(void 0===t[e.name]?t[e.name]=e.value||"":(t[e.name].push||(t[e.name]=[t[e.name]]),t[e.name].push(e.value||"")))}),e){case"form":formsData.content=t,grecaptcha.getResponse(formCaptcha)&&grecaptcha.reset(formCaptcha),grecaptcha.execute(formCaptcha);break;case"partnerInfo":t.hasOwnProperty("authorFullName")&&(t.hasOwnProperty("authorPhone")||t.hasOwnProperty("authorEmail"))&&(t.hasOwnProperty("partnerPhone")||t.hasOwnProperty("partnerEmail"))?(formsData.content=t,grecaptcha.getResponse(partnerInfoCaptcha)&&grecaptcha.reset(partnerInfoCaptcha),grecaptcha.execute(partnerInfoCaptcha)):rmModal.show({type:"attention",title:"Внимание",content:'<span class="rm-red-text">Вы заполнили не все данные формы</span>',closeBtn:"Ок"});break;case"sendPresentation":t.hasOwnProperty("partnerEmail")?(formsData.content=t,grecaptcha.getResponse(sendPresentationCaptcha)&&grecaptcha.reset(sendPresentationCaptcha),grecaptcha.execute(sendPresentationCaptcha)):rmModal.show({type:"attention",title:"Внимание",content:'<span class="rm-red-text">Вы не указали E-mail</span>',closeBtn:"Ок"});break;case"subscribeNews":t.hasOwnProperty("email")?(formsData.content=t,grecaptcha.getResponse(subscribeNewsCaptcha)&&grecaptcha.reset(subscribeNewsCaptcha),grecaptcha.execute(subscribeNewsCaptcha)):rmModal.show({type:"attention",title:"Внимание",content:'<span class="rm-red-text">Вы не указали E-mail</span>',closeBtn:"Ок"})}},function(){void 0==getCookie("cookieNotification")&&setCookie("cookieNotification",!0,{expires:86400})}(),$(document).ready(function(e){function t(){var e=document.createElement("div");return cookieBlockContent=document.createElement("div"),cookieBlockText=document.createElement("div"),cookieBlockBtn=document.createElement("div"),cookieBlockFirstParagraph=document.createElement("p"),cookieBlockLastParagraph=document.createElement("p"),cookieBlockButton=document.createElement("button"),$(e).addClass("cookie-notification"),$(cookieBlockContent).addClass("main__content cookie-notification__content"),$(cookieBlockText).addClass("cookie-notification__text"),$(cookieBlockBtn).addClass("cookie-notification__btn"),$(cookieBlockButton).addClass("cookie-ok btn--white"),$(cookieBlockFirstParagraph).html(' ООО «РэдАрм» использует <a href="user-agreement.html">cookie</a> (файлы с данными о прошлых посещениях сайта) для персонализации сервисов и удобства пользователей. Вы можете запретить сохранение cookie в настройках своего браузера.'),$(cookieBlockLastParagraph).html('ООО «РэдАрм» серьезно относится к защите персональных данных — ознакомьтесь с <a href="privacy-policy.html">условиями и принципами их обработки</a>.'),$(cookieBlockButton).text("понятно"),$(cookieBlockText).append(cookieBlockFirstParagraph).append(cookieBlockLastParagraph),$(cookieBlockBtn).append(cookieBlockButton),$(cookieBlockContent).append(cookieBlockText).append(cookieBlockBtn),$(e).append(cookieBlockContent),e}"true"==getCookie("cookieNotification")&&$(".wrapper").append(t()),$(".cookie-ok").click(function(){$("div.cookie-notification").remove(),setCookie("cookieNotification",!1,{expires:86400})})}),$(document).ready(function(e){var t=screen.width,n=screen.height;(320==t&&568==n||375==t&&667==n||414==t&&736==n)&&$(".wrapper-menu").css({height:"1420px"}),375==t&&812==n&&$(".wrapper-menu").css({height:"1694px"}),320==t&&480==n&&$(".wrapper-menu").css({height:"1056px"}),768==t&&1024==n&&$(".wrapper-menu").css({height:"1160px"}),1024==t&&1366==n&&$(".wrapper-menu").css({height:"1246px"})}),(new WOW).init(),$(document).ready(function(){$(window).width()<800&&$(".wow").attr("data-wow-offset","-200"),$(window).width()<600&&$(".wow").attr("data-wow-offset","-500"),$(window).width()<500&&$(".wow").attr("data-wow-offset","-1000")});